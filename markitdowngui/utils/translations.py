# markitdowngui/utils/translations.py

TRANSLATIONS = {
    "en": {
        "app_title": "MarkItDown GUI Wrapper",
        "about_menu": "About",
        "menu_view": "&View",
        "menu_dark_mode": "&Dark Mode",
        "menu_settings": "&Settings",
        "menu_language": "&Language",
        "menu_lang_en": "&English",
        "menu_lang_zh_CN": "简体中文 (&Simplified Chinese)",
        "menu_format_settings": "&Format Settings...",
        "menu_help": "&Help",
        "menu_keyboard_shortcuts": "&Keyboard Shortcuts...",
        "menu_check_updates": "&Check for Updates...",
        "drop_widget_file_type_label": "File Type:",
        "drop_widget_drop_label": "Drag and drop files here",
        "drop_widget_tooltip": "Drag files you want to convert into Markdown and drop them here.",
        "preview_label": "Preview:",
        "preview_placeholder": "Select a file to see preview",
        "browse_files_button": "Browse Files",
        "browse_files_tooltip": "Open file browser to select files",
        "clear_list_button": "Clear List",
        "clear_list_tooltip": "Clear the file list",
        "clear_all_button": "Clear All",
        "settings_group_label": "Settings:",
        "enable_plugins_checkbox": "Enable Plugins",
        "enable_plugins_tooltip": "Enable third-party plugins for additional conversion features",
        "doc_intel_placeholder": "Document Intelligence Endpoint (optional)",
        "doc_intel_tooltip": "Enter your Azure Document Intelligence endpoint if you want to use it",
        "batch_size_label": "Batch Size:",
        "batch_size_tooltip": "Number of files to process simultaneously",
        "pause_button": "Pause",
        "resume_button": "Resume",
        "cancel_button": "Cancel",
        "convert_files_button": "Convert Files",
        "output_save_all_in_one_checkbox": "Save all files in one document",
        "output_save_all_in_one_tooltip": "When unchecked, each file will be saved separately",
        "copy_output_button": "Copy Output",
        "save_output_button": "Save Output",
        "no_files_to_convert_title": "No Files",
        "no_files_to_convert_message": "Please add files to convert.",
        "conversion_progress_format": "{progress}% - Processing: {file}",
        "conversion_complete_message": "Conversion Complete",
        "conversion_error_title": "Error",
        "save_combined_title": "Save Combined Markdown Output",
        "markdown_files_filter": "Markdown Files (*.md);;All Files (*)",
        "all_files_filter": "All Files (*.*)",
        "error_saving_combined_title": "Error",
        "error_saving_combined_message": "Failed to save output: {error}",
        "no_output_to_save_title": "No Output",
        "no_output_to_save_message": "No conversion results to save.",
        "select_directory_title": "Select Directory for Individual Files",
        "save_individual_complete_title": "Save Complete",
        "save_individual_complete_message": "Successfully saved {count} file(s) to {dir}",
        "format_settings_updated_log": "Format settings updated",
        "auto_save_backup_log": "Auto-saved backup to {path}",
        "auto_save_failed_log": "Auto-save failed: {error}",
        "preview_error_log": "Error previewing file: {error}",
        "select_files_title": "Select Files to Convert",
        "file_list_cleared_log": "File list cleared",
        "added_file_to_recent_log": "Added file to recent list: {file}",
        "error_handling_new_file_log": "Error handling new file: {error}",
        "conversion_paused_log": "Conversion paused",
        "conversion_resumed_log": "Conversion resumed",
        "conversion_cancelled_log": "Conversion cancelled",
        "application_started_log": "Application started",
        "format_settings_title": "Format Settings",
        "header_style_label": "Header Style:",
        "header_style_atx": "ATX (#)",
        "header_style_setext": "Setext (===)",
        "table_style_label": "Table Style:",
        "table_style_simple": "Simple",
        "table_style_grid": "Grid",
        "table_style_pipe": "Pipe",
        "auto_save_enable_checkbox": "Enable Auto-save",
        "auto_save_interval_suffix": " minutes",
        "save_button": "Save",
        "cancel_dialog_button": "Cancel",
        "shortcuts_title": "Keyboard Shortcuts",
        "shortcut_open_files": "Open Files",
        "shortcut_save_output": "Save Output",
        "shortcut_copy_output": "Copy Output",
        "shortcut_pause_resume": "Pause/Resume",
        "shortcut_begin_conversion": "Begin Conversion",
        "shortcut_clear_list": "Clear List",
        "shortcut_show_shortcuts": "Show Shortcuts",
        "shortcut_cancel_conversion": "Cancel Conversion",
        "update_dialog_title": "Update Available",
        "update_dialog_message": "A new version (<b>{version}</b>) of MarkItDown is available!",
        "update_dialog_info": "You can download it from the <a href='{url}'>GitHub releases page</a>.",
        "update_dialog_dont_notify": "Don't notify me again",
        "update_dialog_ok": "OK",
        "update_check_error_title": "Update Check Failed",
        "update_check_error_message": "Failed to check for updates: {error}",
        "update_check_no_update_title": "No Updates Available",
        "update_check_no_update_message": "You are using the latest version of MarkItDown GUI.",
        "enable_plugins_checkbox": "Enable Plugins",
        "enable_plugins_tooltip": "Enable third-party plugins for additional conversion features",
        "doc_intel_placeholder": "Document Intelligence Endpoint (optional)",
        "doc_intel_tooltip": "Enter your Azure Document Intelligence endpoint if you want to use it",
        "copy_output_button": "Copy Output",
        "save_output_button": "Save Output",
        "output_save_all_in_one_checkbox": "Save all files in one document",
        "output_save_all_in_one_tooltip": "When unchecked, each file will be saved separately",
        
        # Error handling translations
        "conversion_in_progress_title": "Conversion In Progress",
        "conversion_in_progress_message": "A conversion is already in progress. Please wait for it to complete or cancel it first.",
        "no_valid_files_title": "No Valid Files",
        "no_valid_files_message": "No valid files found. Please check that the files exist and are readable.",
        "settings_error_title": "Settings Error",
        "settings_error_message": "Error loading format settings: {error}",
        "markitdown_config_error_title": "Configuration Error",
        "markitdown_config_error_message": "Error configuring MarkItDown: {error}",
        "conversion_start_error_title": "Conversion Start Error",
        "conversion_start_error_message": "Error starting conversion: {error}",
        "unexpected_error_title": "Unexpected Error",
        "unexpected_error_message": "An unexpected error occurred: {error}",
        "conversion_starting_message": "Starting conversion..."
    },
    "zh_CN": {
        "app_title": "MarkItDown GUI 包装器",
        "about_menu": "关于",
        "menu_view": "视图(&V)",
        "menu_dark_mode": "深色模式(&D)",
        "menu_settings": "设置(&S)",
        "menu_language": "语言(&L)",
        "menu_lang_en": "英语(&E)",
        "menu_lang_zh_CN": "简体中文(&S)",
        "menu_format_settings": "格式设置(&F)...",
        "menu_help": "帮助(&H)",
        "menu_keyboard_shortcuts": "键盘快捷键(&K)...",
        "menu_check_updates": "检查更新(&C)...",
        "drop_widget_file_type_label": "文件类型:",
        "drop_widget_drop_label": "将文件拖放到此处",
        "drop_widget_tooltip": "将要转换为 Markdown 的文件拖放到此处。",
        "preview_label": "预览:",
        "preview_placeholder": "选择文件以查看预览",
        "browse_files_button": "浏览文件",
        "browse_files_tooltip": "打开文件浏览器选择文件",
        "clear_list_button": "清除列表",
        "clear_list_tooltip": "清除文件列表",
        "clear_all_button": "全部清除",
        "settings_group_label": "设置:",
        "enable_plugins_checkbox": "启用插件",
        "enable_plugins_tooltip": "启用第三方插件以获取额外的转换功能",
        "doc_intel_placeholder": "文档智能终结点 (可选)",
        "doc_intel_tooltip": "如果要使用 Azure 文档智能，请输入其终结点",
        "batch_size_label": "批处理大小:",
        "batch_size_tooltip": "同时处理的文件数量",
        "pause_button": "暂停",
        "resume_button": "恢复",
        "cancel_button": "取消",
        "convert_files_button": "转换文件",
        "output_save_all_in_one_checkbox": "将所有文件保存在一个文档中",
        "output_save_all_in_one_tooltip": "取消选中时，每个文件将单独保存",
        "copy_output_button": "复制输出",
        "save_output_button": "保存输出",
        "no_files_to_convert_title": "无文件",
        "no_files_to_convert_message": "请添加要转换的文件。",
        "conversion_progress_format": "{progress}% - 正在处理: {file}",
        "conversion_complete_message": "转换完成",
        "conversion_error_title": "错误",
        "save_combined_title": "保存合并的 Markdown 输出",
        "markdown_files_filter": "Markdown 文件 (*.md);;所有文件 (*)",
        "all_files_filter": "所有文件 (*.*)",
        "error_saving_combined_title": "错误",
        "error_saving_combined_message": "保存输出失败: {error}",
        "no_output_to_save_title": "无输出",
        "no_output_to_save_message": "没有要保存的转换结果。",
        "select_directory_title": "选择单个文件的目录",
        "save_individual_complete_title": "保存完成",
        "save_individual_complete_message": "已成功将 {count} 个文件保存到 {dir}",
        "format_settings_updated_log": "格式设置已更新",
        "auto_save_backup_log": "自动备份已保存至 {path}",
        "auto_save_failed_log": "自动保存失败: {error}",
        "preview_error_log": "预览文件时出错: {error}",
        "select_files_title": "选择要转换的文件",
        "file_list_cleared_log": "文件列表已清除",
        "added_file_to_recent_log": "已将文件添加到最近列表: {file}",
        "error_handling_new_file_log": "处理新文件时出错: {error}",
        "conversion_paused_log": "转换已暂停",
        "conversion_resumed_log": "转换已恢复",
        "conversion_cancelled_log": "转换已取消",
        "application_started_log": "应用程序已启动",
        "format_settings_title": "格式设置",
        "header_style_label": "标题样式:",
        "header_style_atx": "ATX (#)",
        "header_style_setext": "Setext (===)",
        "table_style_label": "表格样式:",
        "table_style_simple": "简单",
        "table_style_grid": "网格",
        "table_style_pipe": "管道",
        "auto_save_enable_checkbox": "启用自动保存",
        "auto_save_interval_suffix": " 分钟",
        "save_button": "保存",
        "cancel_dialog_button": "取消",
        "shortcuts_title": "键盘快捷键",
        "shortcut_open_files": "打开文件",
        "shortcut_save_output": "保存输出",
        "shortcut_copy_output": "复制输出",
        "shortcut_pause_resume": "暂停/恢复",
        "shortcut_begin_conversion": "开始转换",
        "shortcut_clear_list": "清除列表",
        "shortcut_show_shortcuts": "显示快捷键",
        "shortcut_cancel_conversion": "取消转换",
        "update_dialog_title": "可用更新",
        "update_dialog_message": "MarkItDown 的一个新版本 (<b>{version}</b>) 可用！",
        "update_dialog_info": "您可以从 <a href=\'{url}\'>GitHub 发布页面</a> 下载。",
        "update_dialog_dont_notify": "不再提醒",
        "update_dialog_ok": "确定",
        "update_check_error_title": "更新检查失败",
        "update_check_error_message": "检查更新失败: {error}",
        "update_check_no_update_title": "没有可用更新",
        "update_check_no_update_message": "您正在使用最新版本的 MarkItDown GUI。",
        
        # Error handling translations
        "conversion_in_progress_title": "转换进行中",
        "conversion_in_progress_message": "转换已在进行中。请等待完成或先取消当前转换。",
        "no_valid_files_title": "无有效文件",
        "no_valid_files_message": "未找到有效文件。请检查文件是否存在且可读取。",
        "settings_error_title": "设置错误",
        "settings_error_message": "加载格式设置时出错: {error}",
        "markitdown_config_error_title": "配置错误", 
        "markitdown_config_error_message": "配置 MarkItDown 时出错: {error}",
        "conversion_start_error_title": "转换启动错误",
        "conversion_start_error_message": "启动转换时出错: {error}",
        "unexpected_error_title": "意外错误",
        "unexpected_error_message": "发生意外错误: {error}",
        "conversion_starting_message": "正在启动转换..."
    }
}

# Fallback to English if a translation is missing for the current language,
# and fallback to the key itself if not in English either.
DEFAULT_LANG = "en"

def get_translation(lang_code, key):
    """
    Retrieves a translation for a given key.
    Falls back to English if the key is not found in the specified language,
    and then to the key itself if it's not in English either.
    """
    lang_dict = TRANSLATIONS.get(lang_code, TRANSLATIONS[DEFAULT_LANG])
    return lang_dict.get(key, TRANSLATIONS[DEFAULT_LANG].get(key, key))

def get_available_languages():
    """Returns a dictionary of available language codes and their native names."""
    return {
        "en": TRANSLATIONS["en"]["menu_lang_en"],
        "zh_CN": TRANSLATIONS["zh_CN"]["menu_lang_zh_CN"],
    }
